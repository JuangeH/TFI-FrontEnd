@inject IJSRuntime JSRuntime

@*<div class="top-row ps-3 navbar navbar-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="">InnoviaReach</a>
        <button title="Navigation menu" class="navbar-toggler" @onclick="ToggleNavMenu">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</div>

<div class="@NavMenuCssClass" @onclick="ToggleNavMenu">
    <nav class="flex-column">
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="Main" Match="NavLinkMatch.All">
                <span class="oi oi-home" aria-hidden="true"></span> Inicio
            </NavLink>
        </div>
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="Catalogo">
                <span class="oi oi-list-rich" aria-hidden="true"></span> Catalogo
            </NavLink>
        </div>
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="Foro">
                <span class="oi oi-people" aria-hidden="true"></span> Foros
            </NavLink>
        </div>
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="Auditoria">
                <span class="oi oi-briefcase" aria-hidden="true"></span> Auditoría
            </NavLink>
        </div>
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="Bitacora">
                <span class="oi oi-list" aria-hidden="true"></span> Bitácora
            </NavLink>
        </div>
    </nav>
</div>*@

<nav>
    <div class="sidebar-top">
        <span class="expand-btn">
            <img src="assets/ToolBar/chevron.svg" alt="Chevron">
        </span>
        <img src="assets/ToolBar/logo.svg"
             class="logo"
             alt="Laplace Logo">
        <h3 class="hide">Laplace</h3>
    </div>
    <div class="sidebar-links">
        <ul>
            <li>
                <a href="Recomendaciones" class="active" title="Portfolio link">
                    <div class="icon">
                        <img src="assets/ToolBar/portfolio.svg" title="Portfolio Icon">
                    </div>
                    <span class="link hide">Inicio</span>
                </a>
            </li>
            <li>
                <a href="Catalogo" title="Portfolio link">
                    <div class="icon">
                        <img src="assets/ToolBar/portfolio.svg" title="Portfolio Icon">
                    </div>
                    <span class="link hide">Portfolio</span>
                </a>
            </li>
            <li>
                <a href="Foro" title="Analytics link">
                    <div class="icon">
                        <img src="assets/ToolBar/analytics.svg" title="Analytics Icon">
                    </div>
                    <span class="link hide">Analytics</span>
                </a>
            </li>
            <li>
                <a href="Auditoria" title="Performance link">
                    <div class="icon">
                        <img src="assets/ToolBar/dashboard.svg" title="Performance Icon">
                    </div>
                    <span class="link hide">Performance</span>
                </a>
            </li>
            <li>
                <a href="Bitacora" title="Reports Link">
                    <div class="icon">
                        <img src="assets/ToolBar/reports.svg" title="Reports Icon">
                    </div>
                    <span class="link hide">Reports</span>
                </a>
            </li>
        </ul>
    </div>
    <div class="sidebar-bottom">
        <div class="sidebar-links">
            <ul>
                <li>
                    <a href="#help" title="Help" class="tooltip">
                        <img src="assets/ToolBar/help.svg" alt="Help">
                        <span class="link hide">Help</span>
                        <span class="tooltip__content">Help</span>
                    </a>
                </li>
                <li>
                    <a href="#settings" title="Settings" class="tooltip">
                        <img src="assets/ToolBar/settings.svg" alt="Settings">
                        <span class="link hide">Settings</span>
                        <span class="tooltip__content">Settings</span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="sidebar__profile">
            <a href="UsuarioMenu" class="avatar__wrapper">
                <img class="avatar" src="assets/ToolBar/profile.jpg" alt="Profile">
            </a>
            @*<div class="avatar__wrapper">
                <img class="avatar" src="assets/ToolBar/profile.jpg" alt="Profile">
                <div class="online__status"></div>
            </div>*@
            <div class="avatar__name hide">
                <div class="user-name">Baldu</div>
                <div class="email">pedeeeeeelo@gmail.com</div>
            </div>
        </div>
    </div>
</nav>



@code {

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeVoidAsync("expandCollapseBody");
            await JSRuntime.InvokeVoidAsync("activateLinks");
        }
    }

    private bool collapseNavMenu = true;

    private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }


}
