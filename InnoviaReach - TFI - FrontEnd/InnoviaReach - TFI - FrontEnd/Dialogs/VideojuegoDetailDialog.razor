@using System.Net.Http.Headers
@inject HttpClient httpClient
@inject ISnackbar Snackbar
@inject ISessionStorageService sessionStorage
@inject NavigationManager NavManager

<div class="popup" style="@(Show ? "visibility:visible; opacity:1;" : "")">
    <div class="popup-inner" style="@(Show ? "bottom:0; right:0; transform:rotate(0);" : "")">
        <div class="popup__photo">
            <img src="@videojuego.Imagen" alt="">
        </div>
        <div class="popup__text">
            <h1>@videojuego.Nombre</h1>
            <p>@videojuego.Descripcion</p>
            <h3>Generos</h3>
            @foreach (var item in videojuego.Generos)
            {
                <p>@item</p>
            }
            <h3>Plataformas disponibles</h3>
            @foreach (var item in videojuego.Plataformas)
            {
                <p>@item</p>
            }
            <h3>Tiendas</h3>
            @foreach (var item in videojuego.Tiendas)
            {
                <p>@item</p>
            }
        </div>
        <div class="popup__close" @onclick="ClosePopup">X</div>
    </div>
</div>

@code {
    [Parameter] public bool Show { get; set; }
    [Parameter] public EventCallback OnClose { get; set; }
    [Parameter] public VideojuegoCatalogoDetalleResponse videojuego { get; set; }

    private void ClosePopup()
    {
        OnClose.InvokeAsync();
    }
    

}
